<!DOCTYPE html>
<html>
<head>
<title></title>
<style>
#textArea
{
    resize: none;
    height: 23vw;
    width: 50%;
}
</style>
</head>
<body>
<textarea id="textArea" oninput="URLparams()"></textarea>
<script>
function onLoad()
{
    var textArea = document.getElementById('textArea');
    var url = new URL(window.location.href);
    var params = url.searchParams;
    var text = params.get('html');

    textArea.value = text;
}
onLoad();

function URLparams()
{
    var textArea = document.getElementById('textArea');
    // URLSearchParamsオブジェクトを作成
    var searchParams = new URLSearchParams(window.location.search);

    // パラメーターを更新
    searchParams.set('html', textArea.value);

    // 新しいURLを作成し、ページをリロード
    var newUrl = window.location.pathname + '?' + searchParams.toString();

    window.history.replaceState({}, '', newUrl);
}
</script>
</body>
</html>
